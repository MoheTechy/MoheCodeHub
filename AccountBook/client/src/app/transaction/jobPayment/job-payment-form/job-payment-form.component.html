<div class="formPage">

  <div class="heading">Associate/Freelancer payment</div>
  <mat-dialog-content>
    <form class="formMain" fxLayout="column" [formGroup]="paymentForm">

      <div class="input-row" fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="20px" fxLayoutGap.lt-md="0px">
        <mat-radio-button style="margin-right: 20% !important;" *ngFor="let type of types" [value]="type.id"
          (click)="getType(type);">
          {{type.name}}
        </mat-radio-button>
      </div>

      <div class="input-row" fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="20px" fxLayoutGap.lt-md="0px">

        <mat-form-field fxFlex>
          <input formControlName="paymentDate" matInput [matDatepicker]="picker" placeholder="Choose a date">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>

      </div>

      <div class="input-row" fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="20px" fxLayoutGap.lt-md="0px">

        <mat-form-field fxFlex>
          <mat-select placeholder="Payment Status *" formControlName="paymentStatus" [(value)]="paymentStatus"
            [ngClass]="{ 'is-invalid': f.paymentStatus.touched && f.paymentStatus.errors }">
            <mat-option value="New">New </mat-option>
            <mat-option value="Done">Done </mat-option>
            <mat-option value="Pending"> Pending </mat-option>
            <mat-option value="Reject"> Reject </mat-option>
          </mat-select>
          <mat-error *ngIf="f.paymentStatus.touched && f.paymentStatus.errors" class="text-danger">
            <mat-error *ngIf="f.paymentStatus.errors.required">Payment paymentStatus is required</mat-error>
          </mat-error>
        </mat-form-field>

        <mat-form-field fxFlex>
          <input matInput placeholder="Invoice Amount *" formControlName="invoiceAmount" type="text" autocomplete="off"
            [ngClass]="{ 'is-invalid': f.invoiceAmount.touched && f.invoiceAmount.errors }">
          <mat-error *ngIf="f.invoiceAmount.touched && f.invoiceAmount.errors" class="text-danger">
            <mat-error *ngIf="f.invoiceAmount.errors.required">Invoice amount is required</mat-error>
          </mat-error>
        </mat-form-field>

      </div>

      <div class="input-row" fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="20px" fxLayoutGap.lt-md="0px">

        <mat-form-field fxFlex>
          <mat-select placeholder="Currency Code *" formControlName="currencyCode" [(value)]="currencyCode"
            [ngClass]="{ 'is-invalid': f.currencyCode.touched && f.currencyCode.errors }">
            <mat-option *ngFor="let cl of currencyList" [value]="cl.id">
              {{cl.currencyCode}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="f.currencyCode.touched && f.currencyCode.errors" class="text-danger">
            <mat-error *ngIf="f.currencyCode.errors.required">Currency code is required</mat-error>
          </mat-error>
        </mat-form-field>

      </div>

      <div class="input-row" fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="20px" fxLayoutGap.lt-md="0px">

        <mat-form-field fxFlex>
          <mat-select placeholder="Status *" formControlName="status" [(value)]="status"
            [ngClass]="{ 'is-invalid': f.status.touched && f.status.errors }">
            <mat-option value="Pending">Pending </mat-option>
            <mat-option value="Closed">Closed </mat-option>
          </mat-select>
          <mat-error *ngIf="f.status.touched && f.status.errors" class="text-danger">
            <mat-error *ngIf="f.status.errors.required">Status is required</mat-error>
          </mat-error>
        </mat-form-field>

      </div>


      <div class="input-row" fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="20px" fxLayoutGap.lt-md="0px">

        <input type="file" formControlName="paymentDocument" ng2FileSelect [uploader]="uploader"
          [ngClass]="{ 'is-invalid': f.paymentDocument.touched && f.paymentDocument.errors }" />
      </div>

      <div class="mandatoryText">(*) Mandatory fields</div>

      <div align="center">
        <button class="saveButton" (click)="save();" [disabled]="!paymentForm.valid" mat-raised-button>Save</button>

        <button class="cancelButton" (click)="btnClose() " mat-raised-button>Cancel</button>
      </div>

    </form>
  </mat-dialog-content>
</div>